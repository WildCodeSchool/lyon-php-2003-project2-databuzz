{% extends 'tvshowlayout.html.twig' %}


{# TODO Replace fixed text by info from API "Season X of tvshowname" #}
{% block title %}Season {{season.season_number}}{% endblock %}

{% block img_header %}{{ season.img }}{% endblock %}
{% block alt_img %}{{ tvshow.title }}{% endblock %}
{#       COMMENTAIRE : Le block rating_season ne correspond-il pas en fait au show_rating?       #}
{% block rating_season %}{% endblock %}
{% block synopsis %}{{ season.synopsis }}{% endblock %}
{% block genre %}Genre : {{ genre.name }}{% endblock %}
{% block year %}Year {{ tvshow.year }}{% endblock %}
{% block friends_watched %}Lucas, Jeff and François have watched it{% endblock %}
{% block watched %}Watched or not ?{% endblock %}
{% block next_episode %}S03E03{% endblock %}
{% block on_air %}On air : 23/04/2020{% endblock %}
{% block buzz %}{% endblock %}
{# Fin éssai #}

{% block serietitle %}{{ tvshow.title }}<br>Season {{season.season_number}}{% endblock %}
{% block tvshowlayoutcontent %}

    {# Display Season Number generated by link clicked by user #}

    <h4>SEASON X</h4>

    <div id="accordion">
        {# Display one dropdown menu per episodes #}
        {% for episode in episodes %}
            <div class="card">
                <div class="card-header" id="headingOne">
                    <h5 class="mb-0">
                        <button class="btn btn-link" data-toggle="collapse" data-target="#collapse{{ loop.index }}"
                                aria-expanded="true" aria-controls="collapseOne">
                            <div class="row">
                                <div class="col-3">
                                    Image from API
                                </div>
                                <div class="col-3">
                                    <p>Episode {{ episode.episode_number }}</p>
                                    <br>
                                    <p>Aired on the {{ episode.air_date }}</p>
                                </div>
                                <div class="col">
                                    <p>{{ episode.name }}</p>
                                </div>
                            </div>
                        </button>
                    </h5>
                </div>

                <div id="collapse{{ loop.index }}" class="collapse show" aria-labelledby="headingOne"
                     data-parent="#accordion">
                    <div class="card-body">
                        <p>{{ episode.overview }}</p>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
